<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Tacdis Deluxe 5.0</title>
    <script src="https://use.fontawesome.com/2389a26a6e.js"></script>

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/angular")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    <script src="~/Scripts/ng-table.min.js"></script>
    @Scripts.Render("~/bundles/custom")

    <script src="~/Scripts/global.js"></script>
    <link href="~/Content/Custom.css" rel="stylesheet"/>

    @{ 
        var controller = ViewContext.RouteData.Values["controller"].ToString();
        string navPartsCss = controller.ToLower() == "parts" ? "nav-active" : "";
        string navSalesCss = controller.ToLower() == "sales" ? "nav-active" : "";
        string navVehicleCss = controller.ToLower() == "vehicle" ? "nav-active" : "";
        string navWorkOrderCss = controller.ToLower() == "workorder" ? "nav-active" : "";
        string navInvoiceCss = controller.ToLower() == "invoice" ? "nav-active" : "";
    }

</head>
<body ng-app="tacdisDeluxeApp">
    <script>
        //  .alert-success, .alert-info, .alert-warning or .alert-danger
        window.showAjaxFeedbackMessage = function (msgLevel, msg) {
            var level = 'success';

            switch (msgLevel) {
                case 'info':
                    level = 'Info'
                    break;
                case 'warning':
                    level = 'Warning'
                    break;
                case 'danger':
                    level = 'Danger'
                    break;
                default:
                    level = 'Success';
                    break;
            }


            var msgBox = $('#__ajaxFeedbackMessage');
            msgBox.addClass('alert-' + level);
            msgBox.find('.message-level').html(level + '!');
            msgBox.find('.message-text').html(msg);
            msgBox.show('fast');
            setTimeout(function () { $('#__ajaxFeedbackMessage').fadeOut(500); }, 2000);
        }
    </script>

    <div id="__ajaxFeedbackMessage" class="alert alert-dismissable">
        <a class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong class="message-level">Success!</strong> <span class="message-text">Indicates a successful or positive action.</span>
    </div>

    <div class="navbar navbar-default navbar-fixed-top navbar-custom">
        <div class="container-fluid">
            <div class="col-md-2 nav-logo">
                <a href="/"><img src="~/Images/tacdis.png" /></a>
            </div>
            <div class="col-md-10">
                <ul class="nav navbar-nav navbar-nav-custom">
                    <li class="@navPartsCss">@Html.ActionLink("Parts", "Index", "Parts")<div class="mark-active"></div></li>
                    <li class="@navSalesCss">@Html.ActionLink("Sales", "Index", "Sales")<div class="mark-active"></div></li>
                    <li class="@navVehicleCss">@Html.ActionLink("Vehicle", "Index", "Vehicle")<div class="mark-active"></div></li>
                    <li class="@navWorkOrderCss">@Html.ActionLink("Work order", "Index", "WorkOrder")<div class="mark-active"></div></li>
                    <li class="@navInvoiceCss">@Html.ActionLink("Invoice", "Index", "Invoice")<div class="mark-active"></div></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Log out</a></li>

                </ul>
            </div>
        </div>
    </div>
    <div class="container body-content">
        @RenderBody()
    </div>

    @RenderSection("scripts", required: false)
</body>
</html>
